<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Color Picker</title>
    <link rel="stylesheet" href="builder.css">
    <link rel="stylesheet" href="picker.css">
</head>

<body>
    <div class="builder-options">
        <div class="builder-option">
            <label for="enabled_opacity">Theme</label>
            <input type="checkbox" id="builder_theme" checked>    
        </div>
        <div class="builder-option">
            <label for="enabled_opacity">Enable Opacity</label>
            <input type="checkbox" id="enabled_opacity" checked>    
        </div>
    </div>
    <div id="colorContianer" class="container">
        <input id="colorinput" data-color-picker class="color-input" type="text" value="#FFFFFF" />

        <input id="colorinput2" data-color-picker class="color-input" type="text" value="#333333" />
    </div>

    <script>

        document.addEventListener("DOMContentLoaded", (event) => {

            const enabledOpacity = document.getElementById('enabled_opacity');
            const theme = document.getElementById('builder_theme');
           
            function changeDialog(e) {
                colorPicker.init({
                    container: document.getElementById('colorContianer'),
                    "theme": theme.checked ? 'light' : 'dark',
                    "opacity_enabled": enabledOpacity.checked,
                })
            }

            changeDialog();
            enabledOpacity.onchange = changeDialog;
            theme.onchange = changeDialog;

             // Add an onchange listener
             document.querySelectorAll('[data-color-picker]').forEach(el => {
                el.addEventListener('change', (e) => {
                    console.log('valuessss', e.target, e.target.value);
                });
             })
        });


    </script>

    <script src="picker.js"></script>
</body>

</html>